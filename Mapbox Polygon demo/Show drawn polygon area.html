<!DOCTYPE html>
<!-- saved from url=(0113)file:///F:/Project%20Elective%20-%20Traffic%20Modelling/Leaflet%20Markercluster/Mapbox%20Polygon%20demo/test.html -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<title>Show drawn polygon area</title>
<meta name="viewport" content="initial-scale=1,maximum-scale=1,user-scalable=no">
<script src="./Show drawn polygon area_files/mapbox.js"></script>
<link href="./Show drawn polygon area_files/mapbox.css" rel="stylesheet">
<style>
  body { margin:0; padding:0; }
  #map { position:absolute; top:0; bottom:0; width:100%; }
</style>
</head>
<body class="">
<link href="./Show drawn polygon area_files/leaflet.draw.css" rel="stylesheet">
<script src="./Show drawn polygon area_files/leaflet.draw.js"></script>
<script src="./Show drawn polygon area_files/leaflet-geodesy.js"></script>

<div id="map" class="leaflet-container leaflet-fade-anim" tabindex="0"><div class="leaflet-map-pane" style="transform: translate3d(8px, 404px, 0px);"><div class="leaflet-tile-pane"><div class="leaflet-layer"><div class="leaflet-tile-container leaflet-zoom-animated"></div><div class="leaflet-tile-container leaflet-zoom-animated"><img class="leaflet-tile leaflet-tile-loaded" src="./Show drawn polygon area_files/1898.png" style="height: 256px; width: 256px; left: 482px; top: -328px;"><img class="leaflet-tile leaflet-tile-loaded" src="./Show drawn polygon area_files/1898(1).png" style="height: 256px; width: 256px; left: 738px; top: -328px;"><img class="leaflet-tile leaflet-tile-loaded" src="./Show drawn polygon area_files/1899.png" style="height: 256px; width: 256px; left: 482px; top: -72px;"><img class="leaflet-tile leaflet-tile-loaded" src="./Show drawn polygon area_files/1899(1).png" style="height: 256px; width: 256px; left: 738px; top: -72px;"><img class="leaflet-tile leaflet-tile-loaded" src="./Show drawn polygon area_files/1898(2).png" style="height: 256px; width: 256px; left: 994px; top: -328px;"><img class="leaflet-tile leaflet-tile-loaded" src="./Show drawn polygon area_files/1900.png" style="height: 256px; width: 256px; left: 738px; top: 184px;"><img class="leaflet-tile leaflet-tile-loaded" src="./Show drawn polygon area_files/1897.png" style="height: 256px; width: 256px; left: 738px; top: -584px;"><img class="leaflet-tile leaflet-tile-loaded" src="./Show drawn polygon area_files/1900(1).png" style="height: 256px; width: 256px; left: 482px; top: 184px;"><img class="leaflet-tile leaflet-tile-loaded" src="./Show drawn polygon area_files/1897(1).png" style="height: 256px; width: 256px; left: 482px; top: -584px;"><img class="leaflet-tile leaflet-tile-loaded" src="./Show drawn polygon area_files/1899(2).png" style="height: 256px; width: 256px; left: 226px; top: -72px;"><img class="leaflet-tile leaflet-tile-loaded" src="./Show drawn polygon area_files/1898(3).png" style="height: 256px; width: 256px; left: 226px; top: -328px;"><img class="leaflet-tile leaflet-tile-loaded" src="./Show drawn polygon area_files/1899(3).png" style="height: 256px; width: 256px; left: 994px; top: -72px;"><img class="leaflet-tile leaflet-tile-loaded" src="./Show drawn polygon area_files/1897(2).png" style="height: 256px; width: 256px; left: 226px; top: -584px;"><img class="leaflet-tile leaflet-tile-loaded" src="./Show drawn polygon area_files/1897(3).png" style="height: 256px; width: 256px; left: 994px; top: -584px;"><img class="leaflet-tile leaflet-tile-loaded" src="./Show drawn polygon area_files/1900(2).png" style="height: 256px; width: 256px; left: 994px; top: 184px;"><img class="leaflet-tile leaflet-tile-loaded" src="./Show drawn polygon area_files/1900(3).png" style="height: 256px; width: 256px; left: 226px; top: 184px;"><img class="leaflet-tile leaflet-tile-loaded" src="./Show drawn polygon area_files/1899(4).png" style="height: 256px; width: 256px; left: 1250px; top: -72px;"><img class="leaflet-tile leaflet-tile-loaded" src="./Show drawn polygon area_files/1898(4).png" style="height: 256px; width: 256px; left: 1250px; top: -328px;"><img class="leaflet-tile leaflet-tile-loaded" src="./Show drawn polygon area_files/1898(5).png" style="height: 256px; width: 256px; left: -30px; top: -328px;"><img class="leaflet-tile leaflet-tile-loaded" src="./Show drawn polygon area_files/1899(5).png" style="height: 256px; width: 256px; left: -30px; top: -72px;"><img class="leaflet-tile leaflet-tile-loaded" src="./Show drawn polygon area_files/1897(4).png" style="height: 256px; width: 256px; left: 1250px; top: -584px;"><img class="leaflet-tile leaflet-tile-loaded" src="./Show drawn polygon area_files/1900(4).png" style="height: 256px; width: 256px; left: -30px; top: 184px;"><img class="leaflet-tile leaflet-tile-loaded" src="./Show drawn polygon area_files/1897(5).png" style="height: 256px; width: 256px; left: -30px; top: -584px;"><img class="leaflet-tile leaflet-tile-loaded" src="./Show drawn polygon area_files/1900(5).png" style="height: 256px; width: 256px; left: 1250px; top: 184px;"></div></div></div><div class="leaflet-objects-pane"><div class="leaflet-shadow-pane"></div><div class="leaflet-overlay-pane"></div><div class="leaflet-marker-pane"><div class="leaflet-marker-icon leaflet-mouse-marker leaflet-zoom-animated leaflet-clickable" tabindex="0" style="margin-left: -20px; margin-top: -20px; width: 40px; height: 40px; opacity: 0; transform: translate3d(741px, -392px, 0px); z-index: 1608;"></div></div><div class="leaflet-popup-pane"><div class="leaflet-draw-tooltip leaflet-draw-tooltip-single" style="visibility: inherit; transform: translate3d(741px, -392px, 0px);"><span>Click to start drawing shape.</span></div></div></div></div><div class="leaflet-control-container"><div class="leaflet-top leaflet-left"><div class="leaflet-control-zoom leaflet-bar leaflet-control"><a class="leaflet-control-zoom-in" href="file:///F:/Project%20Elective%20-%20Traffic%20Modelling/Leaflet%20Markercluster/Mapbox%20Polygon%20demo/test.html#" title="Zoom in">+</a><a class="leaflet-control-zoom-out" href="file:///F:/Project%20Elective%20-%20Traffic%20Modelling/Leaflet%20Markercluster/Mapbox%20Polygon%20demo/test.html#" title="Zoom out">-</a></div><div class="leaflet-draw leaflet-control"><div class="leaflet-draw-section"><div class="leaflet-draw-toolbar leaflet-bar leaflet-draw-toolbar-top leaflet-draw-toolbar-notop leaflet-draw-toolbar-nobottom"><a class="leaflet-draw-draw-polygon leaflet-draw-toolbar-button-enabled" href="file:///F:/Project%20Elective%20-%20Traffic%20Modelling/Leaflet%20Markercluster/Mapbox%20Polygon%20demo/test.html#" title="Draw a polygon"></a></div><ul class="leaflet-draw-actions leaflet-draw-actions-top leaflet-draw-actions-bottom" style="top: 0px; display: block;"><li class=""><a class="" href="file:///F:/Project%20Elective%20-%20Traffic%20Modelling/Leaflet%20Markercluster/Mapbox%20Polygon%20demo/test.html#" title="Delete last point drawn">Delete last point</a></li><li class=""><a class="" href="file:///F:/Project%20Elective%20-%20Traffic%20Modelling/Leaflet%20Markercluster/Mapbox%20Polygon%20demo/test.html#" title="Cancel drawing">Cancel</a></li></ul></div><div class="leaflet-draw-section"><div class="leaflet-draw-toolbar leaflet-bar"><a class="leaflet-draw-edit-edit leaflet-disabled" href="file:///F:/Project%20Elective%20-%20Traffic%20Modelling/Leaflet%20Markercluster/Mapbox%20Polygon%20demo/test.html#" title="No layers to edit."></a><a class="leaflet-draw-edit-remove leaflet-disabled" href="file:///F:/Project%20Elective%20-%20Traffic%20Modelling/Leaflet%20Markercluster/Mapbox%20Polygon%20demo/test.html#" title="No layers to delete."></a></div><ul class="leaflet-draw-actions"></ul></div></div></div><div class="leaflet-top leaflet-right"><div class="leaflet-control-grid map-tooltip leaflet-control" style="display: none;"><a class="close" href="file:///F:/Project%20Elective%20-%20Traffic%20Modelling/Leaflet%20Markercluster/Mapbox%20Polygon%20demo/test.html#" title="close">close</a><div class="map-tooltip-content"></div></div></div><div class="leaflet-bottom leaflet-left"><div class="mapbox-logo leaflet-control mapbox-logo-true"></div></div><div class="leaflet-bottom leaflet-right"><div class="map-legends wax-legends leaflet-control" style="display: none;"></div><div class="leaflet-control-attribution leaflet-control"><a href="https://www.mapbox.com/about/maps/" target="_blank">© Mapbox</a> <a href="https://openstreetmap.org/about/" target="_blank">© OpenStreetMap</a> <a class="mapbox-improve-map" href="https://www.mapbox.com/map-feedback/#mapbox.streets/77.571/12.984/12" target="_blank">Improve this map</a></div></div></div></div>

<script>
L.mapbox.accessToken = 'pk.eyJ1IjoiYWJoaW5hdjE1OTIiLCJhIjoiY2lqejZnMGo1MmYxNnY1bTV4OTJibmFjayJ9.l-kywit7jJpW79doBrCbug';
var map = L.mapbox.map('map', 'mapbox.streets').setView([12.9667, 77.5667], 17);

var featureGroup = L.featureGroup().addTo(map);

var drawControl = new L.Control.Draw({
  edit: {
    featureGroup: featureGroup
  },
  draw: {
    polygon: true,
    polyline: false,
    rectangle: false,
    circle: false,
    marker: false
  }
}).addTo(map);

map.on('draw:created', showPolygonArea);
map.on('draw:edited', showPolygonAreaEdited);

function showPolygonAreaEdited(e) {
  e.layers.eachLayer(function(layer) {
    showPolygonArea({ layer: layer });
  });
}
function showPolygonArea(e) {
  featureGroup.clearLayers();
  featureGroup.addLayer(e.layer);
  e.layer.bindPopup((LGeo.area(e.layer) / 1000000).toFixed(2) + ' km<sup>2</sup>');
  e.layer.openPopup();
}
</script>

</body></html>